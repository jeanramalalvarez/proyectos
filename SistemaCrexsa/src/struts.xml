<!DOCTYPE struts PUBLIC
  "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
  "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

<!-- Propiedades para entorno de desarrollo, comentar para Producción -->
  <constant name="struts.devMode" value="true" />
<!--   <constant name="struts.configuration.xml.reload" value="true"/> -->  
  
  <constant name="struts.enable.DynamicMethodInvocation" value="true"/>
  <constant name="struts.objectFactory" value="spring"/>
  <constant name="struts.i18n.encoding" value="UTF-8"/>
  <constant name="struts.locale" value="es_ES"/>
  <constant name="struts.custom.i18n.resources" value="macrosoft.crexsa.resources.global" />
  <constant name="struts.url.includeParams" value="none"/>
  <constant name="struts.objectFactory" value="org.apache.struts2.spring.StrutsSpringObjectFactory" />
<!--   <constant name="struts.multipart.maxSize" value="104857600" />100MB -->

  <!-- Configuración para JBoss, comentar si se usa Tomcat -->
  <!-- 
  <constant name="struts.convention.exclude.parentClassLoader" value="true" />
  <constant name="struts.convention.action.fileProtocols" value="jar,vfsfile,vfszip" />

-->
  <package name="sistema" extends="struts-default,json-default,tiles-default" >

     <result-types>
      <result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" default="true"/>
     </result-types>  
<!--  
     <interceptors>
 
      <interceptor name="login" class="pe.com.empresa.sgv.web.interceptor.LoginInterceptor"/>
      <interceptor name="noCache" class="pe.com.empresa.sgv.web.interceptor.ClearCacheInterceptor"/>

      <interceptor-stack name="loginStack">
       <interceptor-ref name="login"/>
       <interceptor-ref name="noCache"/>
       <interceptor-ref name="defaultStack"/>
      </interceptor-stack>

     </interceptors>
 
     <default-interceptor-ref name="loginStack"/>  
 --> 

     <global-results>
      <result name="error" type="chain">
        <param name="actionName">errorAction</param>
      </result>
      <result name="welcomeActionName" type="chain">
        <param name="actionName">welcomeAction</param>
      </result>
      <result name="logueoActionName" type="chain">
        <param name="actionName">logueoAction</param>
      </result>
      <result name="loginDirecto" type="tiles">loginDirecto</result>
      <result name="loginDirecto2" type="chain">
        <param name="actionName">logueoAction</param>
      </result>
      <result name="securityerror">/redirect.jsp</result>
     </global-results>
     
     <global-exception-mappings>
      <exception-mapping exception="org.apache.jasper.JasperException" result="error" />
      <exception-mapping exception="org.apache.struts.register.exceptions.SecurityBreachException" result="error" />
      <exception-mapping exception="java.lang.Exception" result="error"/>
     </global-exception-mappings>

  </package>

  
</struts>
